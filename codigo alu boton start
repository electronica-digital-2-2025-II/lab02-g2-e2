`include "Alu.v"

module top_alu (
    input  wire        clk,         // reloj de la FPGA
    input  wire        rst_btn,     // bot贸n de reset
    input  wire        start_btn,   // bot贸n de start
    input  wire [3:0]  swA,         // switches para A
    input  wire [3:0]  swB,         // switches para B
    input  wire [2:0]  swSel,       // switches para selecci贸n
    output wire [7:0]  ledsY,       // 8 LEDs para resultado
    output wire        ledOver,     // LED para Overflow
    output wire        ledZero      // LED para Zero
);

    wire mult_done;
    reg [3:0] A_reg;
    reg [3:0] B_reg;
    reg [2:0] Sel_reg;
    reg       start_reg;

   
    wire [7:0] Y;
    wire Over, Zero;

    alu alu0 (
        .A(A_reg),
        .B(B_reg),
        .Sel(Sel_reg),
        .Y(Y),
        .Over(Over),
        .Zero(Zero),
        .clk(clk),
        .rst(rst_btn),
        .start(start_reg),
        .mult_done(mult_done)
    );

    
    always @(posedge clk or posedge rst_btn) begin
        if (rst_btn) begin
            A_reg   <= 4'b0000;
            B_reg   <= 4'b0000;
            Sel_reg <= 3'b000;
            start_reg <= 1'b0;
        end else begin
            // detectar flanco de start_btn (sincr贸nico)
            start_reg <= start_btn;

            if (start_btn) begin
                A_reg   <= swA;
                B_reg   <= swB;
                Sel_reg <= swSel;
            end
        end
    end

    
    assign ledsY   = Y;
    assign ledOver = Over;
    assign ledZero = Zero;

endmodule
